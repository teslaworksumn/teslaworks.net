{% extends "base.html" %}

{% set title = 'Home' %}
{% set page_width = 'offset1 span10' %}

{% block html_head %}
<link rel="stylesheet" href="/static/css/font-awesome.min.css">
{% endblock %}

{% block html_body %}

<div class="row-fluid">
  <img src="/static/img/logo-jumbo.png" alt="">
  <h1 class="text-center">Be a part of awesome engineering and design projects</h1>
</div>

<hr>

<div id="interest-toolbar" class="row-fluid">
  <p>Find projects by interest:</p>
  <div id="interest-buttons" class="btn-group pull-right" data-toggle="button-toggle">
    <button class="btn" data-interest="electrical-engineering">EE</button>
    <button class="btn" data-interest="programming">Programming</button>
    <button class="btn" data-interest="mechanical-engineering">MechE</button>
    <button class="btn" data-interest="product-design">PDes</button>
    <button class="btn" data-interest="marketing">Marketing</button>
    <button class="btn" data-interest="graphic-design">Graphic Design</button>
  </div>
</div>

<div class="row-fluid">
  <ul class="thumbnails">
  {% for project_name, project in projects.iteritems() %}
    <li id="{{ project_name }}" class="span4">
      <div class="starburst">
        <i class="icon-star icon-4x"></i>
      </div>
      <a class="thumbnail click-zone" href="/{{ project_name }}">
        <img class="img-rounded" src={{ project.photos.front_page }} alt="">
        <h3>{{ project.project_title }}</h3>
        <p>{{ project.project_goal }}</p>
      </a>
    </li>
    {% if loop.index is divisibleby (3) %}
  </ul>
</div>
<div class="row-fluid" style="margin-top: -30px;">
  <ul class="thumbnails">
    {% endif %}
  {% endfor %}
    <li id="start" class="span4">
      <div class="starburst">
        <i class="icon-star icon-4x"></i>
      </div>
      <a class="thumbnail click-zone" href="mailto:ntp2umn@gmail.com?subject=I want to start a new Tesla Works project!">
        <img class="img-rounded" src="/static/img/start.png" alt="">
        <h3>Start a New Project</h3>
        <p>Blah blah.</p>
      </a>
    </li>
  </ul>
</div>

<hr>

<div id="get-involved" class="row-fluid">
  <h2>Looking for other ways to get involved?</h2>
  <ol>
    <li>Show up to a meeting! Meetings are Fridays at 5pm in Tate 170.</li>
    <li>Email the group's president, Peter Wagner, at <a href="mailto:wagne763@umn.edu">wagne763@umn.edu</a>.</li>
    <li>
      <form action="http://teslaworks.us6.list-manage.com/subscribe/post?u=29b6ec6923126f61a619ad372&amp;id=6ac5d62894"
          method="post"
          name="mc-embedded-subscribe-form"
          target="_blank"
          class="form-inline"
          novalidate>

        <div class="input-prepend">
          <span class="add-on"><i class="icon-envelope"></i></span>
          <input name="EMAIL" type="email" value="">
        </div>

        <input type="submit" class="btn btn-primary" value="Join our Mailing List" name="subscribe">
      </form>
    </li>
  </ol>
</div>

<div class="row-fluid">
  <h2>FAQ</h2>
  <div class="accordion" id="faq">
    <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#faq" href="#collapseOne">
      Involvement Level
      </a>
    </div>
    <div id="collapseOne" class="accordion-body collapse">
      <div class="accordion-inner">
      You get out of it what you put into it. Some of our members have been in television interviews, received scholarships, and landed internships. They worked for it.
      But there is no minimum involvement level, and casual members are also encouraged to be involved.
      </div>
    </div>
    </div>
    <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#faq" href="#collapseTwo">
      Skill Level
      </a>
    </div>
    <div id="collapseTwo" class="accordion-body collapse">
      <div class="accordion-inner">
      You simply don't have all the skills you need to be on the right project for you yet, and you're going to have to get used to that.
      Every member of every project will learn a mountain of new things by project completion, and everyone is unprepared to some extent. It's what makes Tesla Works what it is.
      This means you'll have to be willing to work to learn - but it also means that your current skill level doesn't matter. We have a place for you.
      </div>
    </div>
    </div>
    <div class="accordion-group">
    <div class="accordion-heading">
      <a class="accordion-toggle" data-toggle="collapse" data-parent="#faq" href="#collapseThree">
      Am I in the right major?
      </a>
    </div>
    <div id="collapseThree" class="accordion-body collapse">
      <div class="accordion-inner">
      You can help. You may have to work a little harder to find your fit, but no one has nothing substantial to add to a project.
      Push yourself, the project managers, and the officers to find that fit, and we'll all be better for it. Welcome.
      </div>
    </div>
    </div>
  </div>
</div>
  
{% endblock %}

{% block html_post_body %}
<script src="/static/js/jquery-2.0.2.min.js"></script>
<script src="/static/js/jquery-migrate-1.2.1.min.js"></script>
<script src="/static/js/bootstrap.min.js"></script>
<script type="text/javascript">
  
  var project_cards = {};
  {% for project_name, project in projects.iteritems() %}
  project_cards["{{ project_name }}"] = {};
  project_cards["{{ project_name }}"]["interests"] = [];
  project_cards["{{ project_name }}"]["selected_interests"] = 0;
  
    {% for interest in project.interests %}
    project_cards["{{ project_name }}"]["interests"].push("{{ interest }}");
    {% endfor %}
  {% endfor %}
    
  $(document).ready(function(){
    $('#interest-buttons button').click(function(){
      var interest = $(this).data('interest');
      
      for (var project in project_cards) {
        var currently_selected = $(this).hasClass('active');
      
        if ($.inArray(interest, project_cards[project]["interests"]) != -1) {
          if (!currently_selected) {
            project_cards[project]["selected_interests"]++;
            $('#' + project + " .starburst").css("opacity", "1");
          } else {
            project_cards[project]["selected_interests"]--;
            if (project_cards[project]["selected_interests"] == 0) {
              $('#' + project + " .starburst").css("opacity", "0");
            }
          }
        }
      }
    });
  });
  
</script>
{% endblock %}
